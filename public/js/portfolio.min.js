"use strict";let cardsPortfolio=[...document.querySelectorAll(".portfolio__card")];var resize=!1;function initPortfolio(){cardsPortfolio.forEach(e=>{let t=e.querySelector(".portfolioBtn-prev"),r=e.querySelector(".portfolioBtn-next");t.addEventListener("click",()=>{prevBtnAction(e)}),r.addEventListener("click",()=>{nextBtnAction(e)}),moveCarrouselAutomatic(e)})}function moveCarrouselAutomatic(e){let t=e.querySelector(".portfolioBtn-prev"),r=e.querySelector(".portfolioBtn-next"),o=e.querySelectorAll(".portfolio__img").length,i=1,c=!1;setInterval(()=>{verifyResize()?(i=1,c=!1,resize=!1):verifyAutomaticCarrousel(i,c,o)?(r.click(),i++):(c=!0,t.click(),i--,1===i&&(c=!1))},6e3)}function verifyResize(){return!!resize}function verifyAutomaticCarrousel(e,t,r){return e<r&&!1===t||1!==e&&void 0}function resetCarrousel(){[...document.querySelectorAll(".portfolio__img--subcontainer")].forEach(e=>{e.style.marginLeft="0px"})}function prevBtnAction(e){let t=e.querySelector(".portfolio__img").clientWidth,r=e.querySelector(".portfolio__img--subcontainer"),o=parseFloat(getComputedStyle(r).marginLeft);o<0&&(r.style.marginLeft=o+t+"px")}function nextBtnAction(e){let t=e.querySelector(".portfolio__img").clientWidth,r=e.querySelector(".portfolio__img--subcontainer"),o=-t*e.querySelectorAll(".portfolio__img").length,i=parseFloat(getComputedStyle(r).marginLeft);i>o+t&&(r.style.marginLeft=i-t+"px")}window.addEventListener("resize",e=>{window.innerWidth<900&&(resize=!0,resetCarrousel())}),initPortfolio();var selectedTarget="",selectedPicture=0;function getPictures(e){let t=data.findIndex(t=>{if(t.target===e)return!0});return data[t].pictures}function fillModalPictures(e){var t;let r=document.querySelector("#modalProject"),o=null===(t=r.querySelector(".carousel-item"))||void 0===t?void 0:t.cloneNode(!0);o.classList.remove("active");let i=r.querySelector(".carousel-inner");i.innerHTML="",e.map((e,t)=>{let r=o.cloneNode(!0);0===t&&r.classList.add("active");let c=r.querySelector("img");e.isMobile?(c.classList.remove("w-100"),c.classList.add("w-25")):(c.classList.add("w-100"),c.classList.remove("w-25")),0!==selectedPicture&&(t===selectedPicture?r.classList.add("active"):r.classList.remove("active")),c.setAttribute("src",e.src),i.append(r)})}cardsPortfolio.forEach(e=>{[...e.querySelector(".portfolio__img--subcontainer").querySelectorAll(".portfolio__img")].forEach((e,t)=>{e.addEventListener("click",e=>{let r=e.currentTarget.getAttribute("target");selectedTarget=r,selectedPicture=t,fillModalPictures(getPictures(r));let o=e.currentTarget.closest(".portfolio__card").querySelector(".portfolio__title"),i=e.currentTarget.getAttribute("category");addProjectInterest("add_project",o.innerHTML,i)})})});var seeProjectArray=[];const addProjectInterest=async(e,t,r)=>{if(-1===seeProjectArray.findIndex(e=>{if(e===t)return!0})){let o=new FormData;o.append("project_name",t),o.append("category",r);const i=await fetch(BASEAPI+e,{method:"POST",body:o});await i.json();seeProjectArray.push(t)}};